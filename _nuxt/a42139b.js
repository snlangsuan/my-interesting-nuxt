(window.webpackJsonp=window.webpackJsonp||[]).push([[12,7],{518:function(e,t,r){var n=r(19);e.exports=function(e){return n(Set.prototype.values,e)}},565:function(e,t,r){var content=r(651);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(25).default)("f3366966",content,!0,{sourceMap:!1})},650:function(e,t,r){"use strict";r(565)},651:function(e,t,r){var n=r(24)(!1);n.push([e.i,"@import url(https://fonts.googleapis.com/css2?family=Kanit:wght@100;300;400;500;600;700&display=swap);"]),n.push([e.i,".text-predict-field[data-v-cfe2bc86]{position:relative}.text-predict-field>.text-predict-field__predicted[data-v-cfe2bc86]{position:absolute;top:8px;bottom:0;left:12px;right:0;color:rgba(0,0,0,.3)}",""]),e.exports=n},656:function(e,t){},657:function(e,t){},665:function(e,t){},705:function(e,t){},706:function(e,t){},707:function(e,t){},714:function(e,t,r){var content=r(817);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(25).default)("3d0502f5",content,!0,{sourceMap:!1})},719:function(e,t,r){"use strict";r.r(t);var n={name:"TextPredictFieldComponent",props:{value:{type:String,default:""},predicted:{type:String,default:""}},data:function(){return{localText:"",localPredicted:""}},watch:{value:function(e){this.localText=e},predicted:function(e){this.localPredicted=e}},mounted:function(){this.localText=this.value,this.localPredicted=this.predicted},methods:{onFullText:function(e){this.$emit("input",this.localPredicted)},onChange:function(e){this.$emit("change",e.target.value)}}},o=(r(650),r(65)),c=r(79),l=r.n(c),d=r(831),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"text-predict-field"},[r("div",{staticClass:"text-predict-field__predicted"},[e._v(e._s(e.predicted))]),e._v(" "),r("v-text-field",{attrs:{value:e.localText,tabindex:"1",dense:"","single-line":"",outlined:"","hide-details":""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:e.onFullText.apply(null,arguments)},keyup:e.onChange}})],1)}),[],!1,null,"cfe2bc86",null);t.default=component.exports;l()(component,{VTextField:d.a})},795:function(e,t,r){r(796)},796:function(e,t,r){"use strict";var n=r(4),o=r(19),c=r(8),l=r(52),d=r(20),f=r(173),v=r(34),m=r(91),h=r(212),_=r(294),x=r(22),y=r(53),w=x("replace"),C=TypeError,S=c("".indexOf),O=c("".replace),R=c("".slice),T=Math.max,E=function(e,t,r){return r>e.length?-1:""===t?r:S(e,t,r)};n({target:"String",proto:!0},{replaceAll:function(e,t){var r,n,c,x,k,A,P,j,L,M=l(this),z=0,D=0,I="";if(null!=e){if((r=f(e))&&(n=v(l(h(e))),!~S(n,"g")))throw C("`.replaceAll` does not allow non-global regexes");if(c=m(e,w))return o(c,e,M,t);if(y&&r)return O(v(M),e,t)}for(x=v(M),k=v(e),(A=d(t))||(t=v(t)),P=k.length,j=T(1,P),z=E(x,k,0);-1!==z;)L=A?v(t(k,z,x)):_(k,x,z,[],void 0,t),I+=R(x,D,z)+L,D=z+P,z=E(x,k,z+j);return D<x.length&&(I+=R(x,D)),I}})},797:function(e,t,r){r(798)},798:function(e,t,r){"use strict";r(300)("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),r(301))},799:function(e,t,r){"use strict";r(4)({target:"Set",proto:!0,real:!0,forced:!0},{addAll:r(800)})},800:function(e,t,r){"use strict";var n=r(19),o=r(40),c=r(14);e.exports=function(){for(var e=c(this),t=o(e.add),r=0,l=arguments.length;r<l;r++)n(t,e,arguments[r]);return e}},801:function(e,t,r){"use strict";r(4)({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:r(303)})},802:function(e,t,r){"use strict";var n=r(4),o=r(41),c=r(19),l=r(40),d=r(14),f=r(97),v=r(46);n({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(e){var t=d(this),r=new(f(t,o("Set")))(t),n=l(r.delete);return v(e,(function(e){c(n,r,e)})),r}})},803:function(e,t,r){"use strict";var n=r(4),o=r(14),c=r(49),l=r(518),d=r(46);n({target:"Set",proto:!0,real:!0,forced:!0},{every:function(e){var t=o(this),r=l(t),n=c(e,arguments.length>1?arguments[1]:void 0);return!d(r,(function(e,r){if(!n(e,e,t))return r()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},804:function(e,t,r){"use strict";var n=r(4),o=r(41),c=r(19),l=r(40),d=r(14),f=r(49),v=r(97),m=r(518),h=r(46);n({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(e){var t=d(this),r=m(t),n=f(e,arguments.length>1?arguments[1]:void 0),_=new(v(t,o("Set"))),x=l(_.add);return h(r,(function(e){n(e,e,t)&&c(x,_,e)}),{IS_ITERATOR:!0}),_}})},805:function(e,t,r){"use strict";var n=r(4),o=r(14),c=r(49),l=r(518),d=r(46);n({target:"Set",proto:!0,real:!0,forced:!0},{find:function(e){var t=o(this),r=l(t),n=c(e,arguments.length>1?arguments[1]:void 0);return d(r,(function(e,r){if(n(e,e,t))return r(e)}),{IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},806:function(e,t,r){"use strict";var n=r(4),o=r(41),c=r(19),l=r(40),d=r(14),f=r(97),v=r(46);n({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(e){var t=d(this),r=new(f(t,o("Set"))),n=l(t.has),m=l(r.add);return v(e,(function(e){c(n,t,e)&&c(m,r,e)})),r}})},807:function(e,t,r){"use strict";var n=r(4),o=r(19),c=r(40),l=r(14),d=r(46);n({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(e){var t=l(this),r=c(t.has);return!d(e,(function(e,n){if(!0===o(r,t,e))return n()}),{INTERRUPTED:!0}).stopped}})},808:function(e,t,r){"use strict";var n=r(4),o=r(41),c=r(19),l=r(40),d=r(20),f=r(14),v=r(172),m=r(46);n({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(e){var t=v(this),r=f(e),n=r.has;return d(n)||(r=new(o("Set"))(e),n=l(r.has)),!m(t,(function(e,t){if(!1===c(n,r,e))return t()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},809:function(e,t,r){"use strict";var n=r(4),o=r(19),c=r(40),l=r(14),d=r(46);n({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(e){var t=l(this),r=c(t.has);return!d(e,(function(e,n){if(!1===o(r,t,e))return n()}),{INTERRUPTED:!0}).stopped}})},810:function(e,t,r){"use strict";var n=r(4),o=r(8),c=r(14),l=r(34),d=r(518),f=r(46),v=o([].join),m=[].push;n({target:"Set",proto:!0,real:!0,forced:!0},{join:function(e){var t=c(this),r=d(t),n=void 0===e?",":l(e),o=[];return f(r,m,{that:o,IS_ITERATOR:!0}),v(o,n)}})},811:function(e,t,r){"use strict";var n=r(4),o=r(41),c=r(49),l=r(19),d=r(40),f=r(14),v=r(97),m=r(518),h=r(46);n({target:"Set",proto:!0,real:!0,forced:!0},{map:function(e){var t=f(this),r=m(t),n=c(e,arguments.length>1?arguments[1]:void 0),_=new(v(t,o("Set"))),x=d(_.add);return h(r,(function(e){l(x,_,n(e,e,t))}),{IS_ITERATOR:!0}),_}})},812:function(e,t,r){"use strict";var n=r(4),o=r(40),c=r(14),l=r(518),d=r(46),f=TypeError;n({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(e){var t=c(this),r=l(t),n=arguments.length<2,v=n?void 0:arguments[1];if(o(e),d(r,(function(r){n?(n=!1,v=r):v=e(v,r,r,t)}),{IS_ITERATOR:!0}),n)throw f("Reduce of empty set with no initial value");return v}})},813:function(e,t,r){"use strict";var n=r(4),o=r(14),c=r(49),l=r(518),d=r(46);n({target:"Set",proto:!0,real:!0,forced:!0},{some:function(e){var t=o(this),r=l(t),n=c(e,arguments.length>1?arguments[1]:void 0);return d(r,(function(e,r){if(n(e,e,t))return r()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},814:function(e,t,r){"use strict";var n=r(4),o=r(41),c=r(19),l=r(40),d=r(14),f=r(97),v=r(46);n({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(e){var t=d(this),r=new(f(t,o("Set")))(t),n=l(r.delete),m=l(r.add);return v(e,(function(e){c(n,r,e)||c(m,r,e)})),r}})},815:function(e,t,r){"use strict";var n=r(4),o=r(41),c=r(40),l=r(14),d=r(97),f=r(46);n({target:"Set",proto:!0,real:!0,forced:!0},{union:function(e){var t=l(this),r=new(d(t,o("Set")))(t);return f(e,c(r.add),{that:r}),r}})},816:function(e,t,r){"use strict";r(714)},817:function(e,t,r){var n=r(24)(!1);n.push([e.i,"@import url(https://fonts.googleapis.com/css2?family=Kanit:wght@100;300;400;500;600;700&display=swap);"]),n.push([e.i,".autocomplete-page__upload[data-v-6a1520d4]{position:relative;cursor:pointer;padding:8px 16px;border-radius:4px;background-color:rgba(25,118,210,.1);text-align:center}.autocomplete-page__upload-icon[data-v-6a1520d4],.autocomplete-page__upload-text[data-v-6a1520d4]{color:#1976d2!important}.autocomplete-page__upload-text[data-v-6a1520d4]{font-size:12px}.autocomplete-page__upload[data-v-6a1520d4]:hover{background-color:rgba(25,118,210,.2)}.autocomplete-page__upload--active[data-v-6a1520d4]{cursor:default;display:flex;align-items:center;text-align:left}.autocomplete-page__upload--active .autocomplete-page__upload-text[data-v-6a1520d4]{max-width:70%;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.autocomplete-page__upload--disabled[data-v-6a1520d4]{cursor:default;background-color:rgba(0,0,0,.1)!important}.autocomplete-page__upload--disabled .autocomplete-page__upload-icon[data-v-6a1520d4],.autocomplete-page__upload--disabled .autocomplete-page__upload-text[data-v-6a1520d4]{color:rgba(0,0,0,.5)!important}.autocomplete-page__upload>input[data-v-6a1520d4]{display:block!important;opacity:0;position:absolute;top:0;bottom:0;right:0;left:0;cursor:pointer}.autocomplete-page-card[data-v-6a1520d4]{overflow:hidden;border-radius:10px;box-shadow:0 2px 2px rgba(0,0,0,.2);background-color:#fff}.autocomplete-page-card__title[data-v-6a1520d4]{font-size:18px;padding:16px;font-weight:500;display:flex;align-items:center;color:#424242}.autocomplete-page-card__text[data-v-6a1520d4]{padding:0 16px 16px}.autocomplete-page-panel[data-v-6a1520d4]{position:relative}.autocomplete-page-panel--active .autocomplete-page-panel__title-icon>.v-icon[data-v-6a1520d4],.autocomplete-page-panel--active .autocomplete-page-panel__title-text[data-v-6a1520d4]{color:#1976d2!important}.autocomplete-page-panel--active .autocomplete-page-panel__title-icon[data-v-6a1520d4]{transform:rotate(180deg)}.autocomplete-page-panel__btn[data-v-6a1520d4]{padding:16px;display:flex;align-items:center;cursor:pointer}.autocomplete-page-panel__btn-icon>.v-icon[data-v-6a1520d4],.autocomplete-page-panel__btn-text[data-v-6a1520d4]{color:rgba(0,0,0,.5)!important}.autocomplete-page-panel__btn[data-v-6a1520d4]:hover:not(.autocomplete-page-panel__btn--disabled){background-color:rgba(25,118,210,.1)}.autocomplete-page-panel__btn:hover:not(.autocomplete-page-panel__btn--disabled) .autocomplete-page-panel__btn-icon>.v-icon[data-v-6a1520d4],.autocomplete-page-panel__btn:hover:not(.autocomplete-page-panel__btn--disabled) .autocomplete-page-panel__btn-text[data-v-6a1520d4]{color:#1976d2!important}.autocomplete-page-panel__btn--disabled[data-v-6a1520d4]{cursor:default}.autocomplete-page-panel__btn--disabled .autocomplete-page-panel__btn-icon>.v-icon[data-v-6a1520d4],.autocomplete-page-panel__btn--disabled .autocomplete-page-panel__btn-text[data-v-6a1520d4]{color:rgba(0,0,0,.3)!important}.autocomplete-page-panel__title[data-v-6a1520d4]{padding:16px;display:flex;align-items:center;cursor:pointer}.autocomplete-page-panel__title-icon>.v-icon[data-v-6a1520d4],.autocomplete-page-panel__title-text[data-v-6a1520d4]{color:rgba(0,0,0,.5)!important}.autocomplete-page-panel__title-icon[data-v-6a1520d4]{transition:transform .3s ease-in-out!important}.autocomplete-page-panel__title[data-v-6a1520d4]:hover{background-color:rgba(25,118,210,.1)}.autocomplete-page-panel__title:hover .autocomplete-page-panel__title-icon>.v-icon[data-v-6a1520d4],.autocomplete-page-panel__title:hover .autocomplete-page-panel__title-text[data-v-6a1520d4]{color:#1976d2!important}.autocomplete-page-panel__content[data-v-6a1520d4]{padding:16px}",""]),e.exports=n},826:function(e,t,r){"use strict";r.r(t);r(9),r(17),r(11),r(18),r(33),r(62),r(66);var n=r(23),o=r(27),c=r(140),l=r(3),d=(r(90),r(71),r(10),r(5),r(26),r(78),r(72),r(68),r(795),r(211),r(81),r(32),r(297),r(61),r(48),r(797),r(799),r(801),r(802),r(803),r(804),r(805),r(806),r(807),r(808),r(809),r(810),r(811),r(812),r(813),r(814),r(815),r(50),r(92),r(12),r(47),r(298),r(64),r(28),r(201)),f=r.n(d),v=r(716);function m(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==r.return||r.return()}finally{if(l)throw o}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function _(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function x(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?_(Object(source),!0).forEach((function(t){Object(l.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):_(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var y={name:"AutoCompletePage",layout:"ml",data:function(){return{drawer:!1,search:"",predicted:"",valid:!0,defaultParams:{maxLen:10,epochs:250,batchSize:32},params:{maxLen:10,epochs:250,batchSize:32},datasetFile:null,datasetList:null,state:"importing",model:null,canPreview:!1,expenseAdvanced:!1,trainProgress:0,epochTime:0,epochCurrent:0,trainElementResize:null,datasetElementResize:null,previewElementResize:null,pA:{x:0,y:0},pB:{x:0,y:0},pC:{x:0,y:0},pD:{x:0,y:0},predictModel:null,predictMaxLen:10,ALPHA_LEN:25,int2char:{},char2int:{},epochLogs:[],batchLogs:[],batchLossLogs:[],batchMseLogs:[],batchOptions:{responsive:!0}}},head:function(){return{title:"Auto-Complete"}},mounted:function(){this.onResetParams(),this.trainElementResize=new ResizeObserver(this.onCardResize),this.trainElementResize.observe(this.$refs.trainCard),this.datasetElementResize=new ResizeObserver(this.onCardResize),this.datasetElementResize.observe(this.$refs.datasetCard),this.previewElementResize=new ResizeObserver(this.onCardResize),this.previewElementResize.observe(this.$refs.previewCard),this.onLoadLocalModel()},beforeDestroy:function(){this.trainElementResize&&this.trainElementResize.unobserve(this.$refs.trainCard),this.datasetElementResize&&this.datasetElementResize.unobserve(this.$refs.datasetCard),this.previewElementResize&&this.previewElementResize.unobserve(this.$refs.previewCard)},methods:{onTrainModel:function(){this.$refs.form.validate()||console.log("training")},onExpanseAdvanced:function(){this.expenseAdvanced=!this.expenseAdvanced},onCardResize:function(){var e=this.$refs.datasetCard.getBoundingClientRect();this.pA.x=e.x+e.width,this.pA.y=e.y+.5*e.height;var t=this.$refs.trainCard.getBoundingClientRect();this.pB.x=t.x,this.pB.y=t.y+.5*t.height,this.pC.x=t.x+t.width,this.pC.y=this.pB.y;var r=this.$refs.previewCard.getBoundingClientRect();this.pD.x=r.x,this.pD.y=r.y+.5*r.height},onFileChange:function(e){var t=this,input=this.$refs.file_upload.files;if(input&&input[0]){this.datasetFile=input[0];var r=new FileReader;r.onload=function(){t.datasetList=r.result.split(/\r?\n/).filter((function(e){return!!e})).map((function(e){return e.trim()}));var e=t.datasetList.map((function(e){return t.processText(e)})).filter((function(e){return!!e}));t.params.maxLen=t.getTextLength(e),t.$refs.file_upload.value=null,t.$refs.file_upload.type="text",t.$refs.file_upload.type="file",t.state="imported"},r.readAsText(input[0])}},onRemoveDataset:function(){this.datasetFile=null,this.datasetList=null,this.state="importing"},onResetParams:function(){this.params=x({},this.defaultParams)},getTextLength:function(e){var t=e.map((function(e){return e.length}));return Math.max.apply(Math,Object(c.a)(t))},processText:function(text){return text=(text=(text=(text=text.replaceAll(new RegExp(/[^\u0E00-\u0E7F\w\s]/,"g"),"")).replace(new RegExp(/\s+/,"g")," ")).replace(new RegExp(/[\t\n]/,"g"),"")).toLowerCase().trim()},generateCharacterMap:function(e){var t=["[","]"].concat(Array.from(new Set(e.join("").replace(/[\[\]]/gi,"").split(""))).sort()).reduce((function(e,t,i){return e[i+1]=t,e}),{}),r=Object.keys(t).reduce((function(e,r){return e[t[r]]=r,e}),{});return[t,r]},textToNumber:function(text,e,t){for(var r=[],i=0;i<e;i++){var n=text.slice(i,i+1),o=i<text.length?t[n]:0;r.push(o)}return r},numberToText:function(e,t,r){for(var n=[],i=0;i<t;i++){var o=0===e[i]?"":r[e[i]];n.push(o)}return n},createFeatureSet:function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=[],c=m(e);try{for(c.s();!(r=c.n()).done;)for(var l=r.value,d=n+1;d<t+1;d++)o.push(l.slice(0,d).concat(Array(t-d).fill(0)))}catch(e){c.e(e)}finally{c.f()}return o},createLabelSet:function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=[],c=m(e);try{for(c.s();!(r=c.n()).done;)for(var l=r.value,d=n+1;d<t+1;d++)o.push(l)}catch(e){c.e(e)}finally{c.f()}return o},parseOneHotEncoding:function(e,t,r){var n=v.j(e,[e.length,t],"int32");return v.e(n,r)},fromOneHotEncoding:function(e,t,r){var n=this;return e.map((function(e){return n.numberToText(e,t,r)}))},createModel:function(e,t){return Object(o.a)(regeneratorRuntime.mark((function r(){var n,o,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=v.h(),o=v.c.lstm({units:2*t,inputShape:[e,t],dropout:.2,recurrentDropout:.2,useBias:!0,returnSequences:!0,activation:"relu"}),c=v.c.timeDistributed({layer:v.c.dense({units:t,dropout:.2,activation:"softmax"})}),r.next=5,n.add(o);case 5:return r.next=7,n.add(c);case 7:return r.abrupt("return",n);case 8:case"end":return r.stop()}}),r)})))()},trainModel:function(e,t,r){var n=this;return Object(o.a)(regeneratorRuntime.mark((function o(){var c,l,d,m,h;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return e.compile({optimizer:v.k.adam(),loss:"categoricalCrossentropy",metrics:["mse"]}),c=0,l=function(e){c=f()()},d=function(e,t){console.log(e+1,t),n.epochTime=f()().diff(c),n.epochCurrent=e+1,n.trainProgress=n.epochCurrent/n.params.epochs*100,n.epochLogs.push(x({epoch:e},t))},m=function(e,t){n.batchLogs.push(x({batch:e},t)),n.batchLossLogs=n.batchLogs.map((function(e){return{text:e.batch,value:e.loss}})),n.batchMseLogs=n.batchLogs.map((function(e){return{text:e.batch,value:e.mse}}))},h=new v.a({onEpochBegin:l,onEpochEnd:d,onBatchEnd:m,onTrainBegin:function(){n.state="training"},onTrainEnd:function(){n.state="trained",n.canPreview=!0}}),o.next=8,e.fit(t,r,{epochs:n.params.epochs,batchSize:n.params.batchSize,shuffle:!0,callbacks:h});case 8:case"end":return o.stop()}}),o)})))()},timeout:function(e){return new Promise((function(t){return setTimeout(t,e)}))},onStartTrain:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r,o,l,d,f,m,h,_,y,w;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.state="preparing",e.epochTime=0,e.epochCurrent=0,e.canPreview=!1,e.predictModel&&e.predictModel.dispose(),t.next=8,e.timeout(100);case 8:return r=e.datasetList.map((function(t){return["["].concat(Object(c.a)(e.processText(t)),["]"])})).filter((function(e){return!!e})),o=Number(e.params.maxLen),e.predictMaxLen=o,l=e.generateCharacterMap(r),d=Object(n.a)(l,2),f=d[0],m=d[1],console.log(f),console.log(m),e.int2char=x({},f),e.char2int=x({},m),window.localStorage.setItem("autocorrect:char2int",JSON.stringify(e.char2int)),h=r.map((function(t){return e.textToNumber(t,o,m)})),_=e.createFeatureSet(h,o),y=e.createLabelSet(h,o),_=e.parseOneHotEncoding(_,o,e.ALPHA_LEN),y=e.parseOneHotEncoding(y,o,e.ALPHA_LEN),t.next=24,e.createModel(o,e.ALPHA_LEN);case 24:return w=t.sent,t.next=27,e.trainModel(w,_,y);case 27:return t.next=29,w.save("localstorage://autocorrect_model");case 29:return t.next=31,v.d("localstorage://autocorrect_model");case 31:e.predictModel=t.sent,_.dispose(),y.dispose(),w.dispose(),t.next=40;break;case 37:t.prev=37,t.t0=t.catch(0),console.error(t.t0);case 40:case"end":return t.stop()}}),t,null,[[0,37]])})))()},onLoadLocalModel:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.d("localstorage://autocorrect_model");case 3:e.predictModel=t.sent,r=window.localStorage.getItem("autocorrect:char2int"),r=JSON.parse(r),e.int2char=Object.keys(r).reduce((function(e,t){return e[r[t]]=t,e}),{}),e.char2int=r,e.canPreview=!0,e.predictMaxLen=e.predictModel.layers[0].batchInputShape[1],t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.error("model does not exists.");case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()},onExportModel:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.model.save("downloads://autocorrect_model");case 2:case"end":return t.stop()}}),t)})))()},onImportModel:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.d();case 2:e.model=t.sent;case 3:case"end":return t.stop()}}),t)})))()},onInputChange:function(e){var t=this;try{if(!e)return void(this.predicted="");var r=[e].map((function(e){return t.processText(e)})).filter((function(e){return!!e&&e.length>3}));if(r.length<1)return;r=r.map((function(e){return t.textToNumber(e,t.predictMaxLen,t.char2int)})),r=this.parseOneHotEncoding(r,this.predictMaxLen,this.ALPHA_LEN);var n=this.predictModel.predict(r);n=n.argMax(-1).arraySync(),n=this.fromOneHotEncoding(n,this.predictMaxLen,this.int2char),this.predicted=n[0].join("")}catch(e){console.error(e)}}}},w=y,C=(r(816),r(65)),S=r(79),O=r.n(S),R=r(459),T=r(292),E=(r(299),r(302),r(304),r(305),r(306),r(307),r(308),r(309),r(310),r(311),r(312),r(313),r(314),r(315),r(58),r(73),r(213),r(1)),k=r(76),A=r(2);function P(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function j(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?P(Object(source),!0).forEach((function(t){Object(l.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):P(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var L=["sm","md","lg","xl"],M=L.reduce((function(e,t){return e[t]={type:[Boolean,String,Number],default:!1},e}),{}),z=L.reduce((function(e,t){return e["offset"+Object(A.v)(t)]={type:[String,Number],default:null},e}),{}),D=L.reduce((function(e,t){return e["order"+Object(A.v)(t)]={type:[String,Number],default:null},e}),{}),I={col:Object.keys(M),offset:Object.keys(z),order:Object.keys(D)};function N(e,t,r){var n=e;if(null!=r&&!1!==r){if(t){var o=t.replace(e,"");n+="-".concat(o)}return"col"!==e||""!==r&&!0!==r?(n+="-".concat(r)).toLowerCase():n.toLowerCase()}}var $=new Map,B=E.default.extend({name:"v-col",functional:!0,props:j(j(j(j({cols:{type:[Boolean,String,Number],default:!1}},M),{},{offset:{type:[String,Number],default:null}},z),{},{order:{type:[String,Number],default:null}},D),{},{alignSelf:{type:String,default:null,validator:function(e){return["auto","start","end","center","baseline","stretch"].includes(e)}},tag:{type:String,default:"div"}}),render:function(e,t){var r=t.props,data=t.data,n=t.children,o=(t.parent,"");for(var c in r)o+=String(r[c]);var d=$.get(o);return d||function(){var e,t;for(t in d=[],I)I[t].forEach((function(e){var n=r[e],o=N(t,e,n);o&&d.push(o)}));var n=d.some((function(e){return e.startsWith("col-")}));d.push((e={col:!n||!r.cols},Object(l.a)(e,"col-".concat(r.cols),r.cols),Object(l.a)(e,"offset-".concat(r.offset),r.offset),Object(l.a)(e,"order-".concat(r.order),r.order),Object(l.a)(e,"align-self-".concat(r.alignSelf),r.alignSelf),e)),$.set(o,d)}(),e(r.tag,Object(k.a)(data,{class:d}),n)}}),F=r(461),V=r(823),H=r(216),U=r(824),J=r(197),K=r(713),W=r(453),Y=r(458),G=r(831),Q=r(271),component=Object(C.a)(w,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"autocomplete-page fill-height"},[r("svg",{style:{position:"fixed",top:0,bottom:0,left:0,right:0,width:"100%",height:"100%"},attrs:{id:"lineCanvas"}},[r("path",{attrs:{id:"lineAB",d:"M "+e.pA.x+" "+e.pA.y+" L "+e.pB.x+" "+e.pB.y,stroke:"#cccccc","stroke-width":"3",fill:"none"}}),e._v(" "),r("path",{attrs:{id:"lineAB",d:"M "+e.pC.x+" "+e.pC.y+" L "+e.pD.x+" "+e.pD.y,stroke:"#cccccc","stroke-width":"3",fill:"none"}})]),e._v(" "),r("v-app-bar",{staticClass:"custom-app-bar custom-app-bar--white",attrs:{app:""}},[r("v-toolbar-title",[e._v("Auto-Complete")])],1),e._v(" "),r("v-container",{staticClass:"px-8",staticStyle:{position:"relative"},attrs:{fluid:"","fill-height":""}},[r("v-row",{staticClass:"fill-height align-center justify-center"},[r("v-col",{staticClass:"px-8",attrs:{cols:"12",md:"3"}},[r("div",{ref:"datasetCard",staticClass:"autocomplete-page-card",attrs:{id:"datasetCard"}},[r("div",{staticClass:"autocomplete-page-card__title"},[e._v("Dataset")]),e._v(" "),r("v-divider"),e._v(" "),r("div",{staticClass:"autocomplete-page-card__text pt-4"},[e.datasetList?r("div",{class:["autocomplete-page__upload","autocomplete-page__upload--active",{"autocomplete-page__upload--disabled":"training"===e.state}]},[r("v-icon",{staticClass:"autocomplete-page__upload-icon",attrs:{size:"18"}},[e._v("mdi-file-outline")]),e._v(" "),r("div",{staticClass:"autocomplete-page__upload-text pl-2"},[e._v(e._s(e.datasetFile.name))]),e._v(" "),r("v-spacer"),e._v(" "),r("v-icon",{staticStyle:{cursor:"pointer"},attrs:{disabled:"training"===e.state,color:"error"},on:{click:e.onRemoveDataset}},[e._v("mdi-close")])],1):r("div",{staticClass:"autocomplete-page__upload"},[r("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"file_upload",attrs:{type:"file",alt:"",title:"",accept:"text/csv,text/plain,text/tsv"},on:{input:e.onFileChange}}),e._v(" "),r("v-icon",{staticClass:"autocomplete-page__upload-icon",attrs:{size:"18"}},[e._v("mdi-tray-arrow-up")]),e._v(" "),r("div",{staticClass:"autocomplete-page__upload-text"},[e._v("Upload")])],1)]),e._v(" "),r("div",{staticClass:"autocomplete-page-card__text pt-4"},[r("div",{staticClass:"text-caption"},[e._v("An example can be viewed from "),r("a",{attrs:{href:"https://gist.github.com/snlangsuan/a48a23e74afb06095cec6cc282f8f30f",target:"_blank"}},[e._v("link")])])])],1)]),e._v(" "),r("v-col",{staticClass:"px-8",attrs:{cols:"12",md:"4"}},[r("div",{ref:"trainCard",staticClass:"autocomplete-page-card",attrs:{id:"trainCard"}},[r("div",{staticClass:"autocomplete-page-card__title"},[e._v("Training")]),e._v(" "),r("div",{staticClass:"autocomplete-page-card__text"},["training"===e.state?r("div",[r("v-progress-linear",{attrs:{color:"blue lighten-4",height:"36"},model:{value:e.trainProgress,callback:function(t){e.trainProgress=t},expression:"trainProgress"}},[r("div",{staticClass:"blue--text text--darken-2"},[e._v("Training...")])]),e._v(" "),r("div",{staticClass:"pt-3 blue--text text-darken-2"},[e._v("\n                "+e._s(e._f("epochTime")(e.epochTime))+" - "+e._s(e.epochCurrent)+" / "+e._s(e.params.epochs)+" epochs\n              ")])],1):"preparing"===e.state?r("div",[r("v-progress-linear",{attrs:{value:0,color:"blue lighten-4",height:"36"}},[r("div",{staticClass:"blue--text text--darken-2"},[e._v("Preparing...")])]),e._v(" "),r("div",{staticClass:"pt-3 blue--text text-darken-2"},[e._v("\n                Â \n              ")])],1):"trained"===e.state?r("div",[r("div",{staticClass:"autocomplete-page-panel__btn autocomplete-page-panel__btn--disabled justify-center grey lighten-3",staticStyle:{height:"36px","border-radius":"4px"}},[r("div",{staticClass:"autocomplete-page-panel__btn-text"},[e._v("Model Trained")])])]):r("v-btn",{attrs:{color:"primary",disabled:"importing"===e.state,block:""},on:{click:e.onStartTrain}},[e._v("Train Model")])],1),e._v(" "),r("v-divider"),e._v(" "),r("div",{class:["autocomplete-page-panel",{"autocomplete-page-panel--active":e.expenseAdvanced}]},[r("div",{staticClass:"autocomplete-page-panel__title",on:{click:e.onExpanseAdvanced}},[r("div",{staticClass:"autocomplete-page-panel__title-text"},[e._v("Advanced")]),e._v(" "),r("v-spacer"),e._v(" "),r("div",{staticClass:"autocomplete-page-panel__title-icon"},[r("v-icon",[e._v("mdi-chevron-down")])],1)],1),e._v(" "),r("v-expand-transition",[r("div",{directives:[{name:"show",rawName:"v-show",value:e.expenseAdvanced,expression:"expenseAdvanced"}]},[r("div",{staticClass:"autocomplete-page-panel__content"},[r("v-form",{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(e){e.preventDefault()}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-row",[r("v-col",{class:["text-body-2",{"pb-1":e.$vuetify.breakpoint.smAndDown}],attrs:{md:"5"}},[e._v("\n                        Max Word Length\n                      ")]),e._v(" "),r("v-col",{class:[{"pt-0":e.$vuetify.breakpoint.smAndDown}],attrs:{cols:"12",md:"7"}},[r("v-text-field",{attrs:{type:"number",rules:[function(e){return!!e||"Please enter max word length"},function(e){return!!e&&Number(e)>=10||"Max word length must more than 10"}],disabled:["training","preparing"].includes(e.state),dense:"","single-line":"",outlined:"","hide-details":""},model:{value:e.params.maxLen,callback:function(t){e.$set(e.params,"maxLen",t)},expression:"params.maxLen"}})],1),e._v(" "),r("v-col",{class:["text-body-2",{"pb-1":e.$vuetify.breakpoint.smAndDown}],attrs:{md:"5"}},[e._v("\n                        Epochs\n                      ")]),e._v(" "),r("v-col",{class:[{"pt-0":e.$vuetify.breakpoint.smAndDown}],attrs:{cols:"12",md:"7"}},[r("v-text-field",{attrs:{disabled:["training","preparing"].includes(e.state),type:"number",rules:[function(e){return!!e||"Please enter epochs"},function(e){return!!e&&Number(e)>0||"Epochs must greater than 0"}],dense:"","single-line":"",outlined:"","hide-details":""},model:{value:e.params.epochs,callback:function(t){e.$set(e.params,"epochs",t)},expression:"params.epochs"}})],1),e._v(" "),r("v-col",{class:["text-body-2",{"pt-0 pb-1":e.$vuetify.breakpoint.smAndDown}],attrs:{md:"5"}},[e._v("\n                        Batch Size\n                      ")]),e._v(" "),r("v-col",{class:[{"pt-0":e.$vuetify.breakpoint.smAndDown}],attrs:{cols:"12",md:"7"}},[r("v-text-field",{attrs:{disabled:["training","preparing"].includes(e.state),type:"number",rules:[function(e){return!!e||"Please enter batch size"},function(e){return!!e&&Number(e)>0||"Batch size must greater than 0"}],dense:"","single-line":"",outlined:"","hide-details":""},model:{value:e.params.batchSize,callback:function(t){e.$set(e.params,"batchSize",t)},expression:"params.batchSize"}})],1)],1)],1)],1),e._v(" "),r("v-divider"),e._v(" "),r("div",{class:["autocomplete-page-panel__btn",{"autocomplete-page-panel__btn--disabled":["training","preparing"].includes(e.state)}],on:{click:e.onResetParams}},[r("div",{staticClass:"autocomplete-page-panel__btn-text"},[e._v("Reset Defaults")]),e._v(" "),r("v-spacer"),e._v(" "),r("div",{staticClass:"autocomplete-page-panel__btn-icon"},[r("v-icon",[e._v("mdi-history")])],1)],1),e._v(" "),r("v-divider")],1)])],1)],1)]),e._v(" "),r("v-col",{staticClass:"px-8",attrs:{cols:"12",md:"5"}},[r("div",{ref:"previewCard",staticClass:"autocomplete-page-card",attrs:{id:"previewCard"}},[r("div",{staticClass:"autocomplete-page-card__title"},[e._v("\n            Preview\n            ")]),e._v(" "),r("v-divider"),e._v(" "),r("div",{staticClass:"autocomplete-page-card__text pt-4"},[e.canPreview?e._e():r("div",{staticClass:"text-body-2 grey--text"},[e._v("\n              You must train a model on the left before you can preview it here.\n            ")]),e._v(" "),r("v-expand-transition",[r("div",{directives:[{name:"show",rawName:"v-show",value:e.canPreview,expression:"canPreview"}]},[r("div",{staticClass:"pb-1"},[e._v("Input Text")]),e._v(" "),r("text-predict-field",{attrs:{predicted:e.predicted},on:{change:e.onInputChange},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),e._v(" "),r("div",{staticClass:"pb-1 pt-6"},[e._v("Predicted Text")]),e._v(" "),r("v-text-field",{attrs:{disabled:"",dense:"","single-line":"",outlined:"","hide-details":""},model:{value:e.predicted,callback:function(t){e.predicted=t},expression:"predicted"}})],1)])],1)],1)])],1)],1)],1)}),[],!1,null,"6a1520d4",null);t.default=component.exports;O()(component,{TextPredictField:r(719).default}),O()(component,{VAppBar:R.a,VBtn:T.a,VCol:B,VContainer:F.a,VDivider:V.a,VExpandTransition:H.a,VForm:U.a,VIcon:J.a,VProgressLinear:K.a,VRow:W.a,VSpacer:Y.a,VTextField:G.a,VToolbarTitle:Q.a})}}]);