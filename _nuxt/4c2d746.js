(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{539:function(t,e,l){var content=l(596);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,l(24).default)("6a2f6dac",content,!0,{sourceMap:!1})},595:function(t,e,l){"use strict";l(539)},596:function(t,e,l){var o=l(23)(!1);o.push([t.i,"@import url(https://fonts.googleapis.com/css2?family=Kanit:wght@100;300;400;500;600;700&display=swap);"]),o.push([t.i,".upload-field[data-v-174f0075]{position:relative}.upload-field__wrap[data-v-174f0075]{border:thin dashed #1967d2!important;border-radius:4px;padding:8px;display:flex;align-items:center;cursor:pointer;position:relative;margin-bottom:4px;width:100%;height:240px;background-color:#e8f0fe;overflow:hidden}.upload-field--error[data-v-174f0075]{border:2px solid #ff5252!important}.upload-field__disabled[data-v-174f0075]{position:absolute;top:0;bottom:0;left:0;right:0}.upload-field__details[data-v-174f0075]{margin-bottom:8px;padding:0 12px;display:flex;flex:1 0 auto;max-width:100%;min-height:14px;overflow:hidden}.upload-field__details--hide[data-v-174f0075]{display:none!important}.upload-field--readonly[data-v-174f0075]{cursor:auto}.upload-field__input[data-v-174f0075]{z-index:9;width:100%;opacity:0}.upload-field__img[data-v-174f0075],.upload-field__input[data-v-174f0075]{position:absolute;top:0;left:0;right:0;bottom:0}.upload-field__text[data-v-174f0075]{flex:100%;position:relative;text-align:center}.upload-field--error>.upload-field__text>*>*[data-v-174f0075]{color:#dd2c00}.upload-field__wrap:not(.upload-field--disabled) .upload-field__remove>*[data-v-174f0075]{color:#dd2c00!important}.upload-field__wrap:not(.upload-field--error):not(.upload-field--disabled):hover>.upload-field__text>*>*[data-v-174f0075]{color:#1aa24e}",""]),t.exports=o},648:function(t,e,l){var content=l(733);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,l(24).default)("8a575478",content,!0,{sourceMap:!1})},705:function(t,e,l){"use strict";l.r(e);l(46),l(4),l(32),l(60),l(47),l(25),l(8),l(61),l(65),l(49);var o=l(20),d=l(649),n=l.n(d);function r(t,e){var l="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!l){if(Array.isArray(t)||(l=function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var l=Object.prototype.toString.call(t).slice(8,-1);"Object"===l&&t.constructor&&(l=t.constructor.name);if("Map"===l||"Set"===l)return Array.from(t);if("Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return c(t,e)}(t))||e&&t&&"number"==typeof t.length){l&&(t=l);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var d,n=!0,r=!1;return{s:function(){l=l.call(t)},n:function(){var t=l.next();return n=t.done,t},e:function(t){r=!0,d=t},f:function(){try{n||null==l.return||l.return()}finally{if(r)throw d}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,l=new Array(e);i<e;i++)l[i]=t[i];return l}var f={name:"UploadImageField",extends:l(502).a,inject:{form:{default:null}},props:{value:{type:String,default:""},src:{type:String,default:""},addText:{type:String,default:"เพิ่มภาพ"},removeText:{type:String,default:"นำออก"},accept:{type:String,default:"image/png,image/jpg"}},data:function(){return{url:"",localValue:"",originalFile:null}},watch:{value:function(t){this.localValue=t},src:function(t){this.url=t}},mounted:function(){this.valid=!0,this.url=this.src,this.localValue=this.value},created:function(){this.form&&this.form.register(this)},beforeDestroy:function(){this.form&&this.form.unregister(this)},methods:{validate:function(t,e){if(t){var l=[];e=e||this.localValue,t&&(this.hasInput=this.hasFocused=!0);var d,n=r(this.rules);try{for(n.s();!(d=n.n()).done;){var c=d.value,f="function"==typeof c?c(e):c;"string"==typeof f?l.push(f):"boolean"!=typeof f&&console.error("Rules should return a string or boolean, received '".concat(Object(o.a)(f),"' instead"),this)}}catch(t){n.e(t)}finally{n.f()}return this.errorBucket=l,this.valid=0===l.length,this.valid}},reset:function(){this.valid=!0,this.url="",this.localValue="",this.originalFile=null,this.errorBucket=[],this.$emit("input",this.localValue)},resetValidation:function(){this.valid=!0,this.errorBucket=[]},getOriginalFile:function(){return this.originalFile},onRemove:function(){this.disabled||(this.url="",this.localValue="",this.originalFile=null,this.$emit("input",this.localValue),this.validate(!0,this.localValue))},onSelectImage:function(){this.disabled||this.$refs.picture_upload.click()},onChangeImage:function(){var t=this,input=this.$refs.picture_upload.files;if(input&&input[0])new n.a(input[0],{convertSize:5e6,maxWidth:1040,success:function(e){var l=new FileReader;l.onload=function(l){t.localValue=l.target.result,t.$emit("input",t.localValue),t.$emit("change",t.localValue,e),t.$refs.picture_upload.value=null,t.$refs.picture_upload.type="text",t.$refs.picture_upload.type="file",t.validate(!0,t.localValue)},l.readAsDataURL(e),t.originalFile=e}})},onToggleAction:function(){this.readOnly||this.disabled||this.onSelectImage()}}},v=(l(595),l(66)),h=l(78),m=l.n(h),_=l(196),x=l(168),y=l(497),component=Object(v.a)(f,(function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"upload-field"},[l("div",{class:["upload-field__wrap",{"upload-field--error":!t.valid,"upload-field--disabled":t.disabled}],on:{click:t.onToggleAction}},[l("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"picture_upload",staticClass:"upload-field__input",attrs:{type:"file",alt:"",title:"",accept:t.accept},on:{input:t.onChangeImage}}),t._v(" "),t.localValue?l("div",{staticClass:"upload-field__img"},[l("v-img",{staticClass:"grey lighten-4",attrs:{src:t.localValue,width:"100%",height:"100%",contain:""}})],1):t.src?l("div",[l("v-img",{staticClass:"grey lighten-4",attrs:{src:t.url,width:"100%",height:"100%",contain:""}})],1):l("div",{class:["upload-field__text"]},[l("div",{staticClass:"mx-auto mt-4"},[l("v-icon",{attrs:{color:"#1967d2",size:"18",left:""}},[t._v("mdi-tray-arrow-up")]),t._v(" "),l("span",{staticClass:"text-body-2",staticStyle:{color:"#1967d2"}},[t._v(t._s(t.addText))])],1)])]),t._v(" "),l("div",{class:["upload-field__details",{"upload-field__details--hide":t.hideDetails}]},[t.errorBucket.length<1&&t.hint&&(t.persistentHint||t.isFocused)?l("VMessages",{attrs:{value:[t.hint]}}):t._e(),t._v(" "),l("VMessages",{attrs:{value:t.errorBucket,color:"error"}})],1)])}),[],!1,null,"174f0075",null);e.default=component.exports;m()(component,{VIcon:_.a,VImg:x.a,VMessages:y.a})},732:function(t,e,l){"use strict";l(648)},733:function(t,e,l){var o=l(23)(!1);o.push([t.i,"@import url(https://fonts.googleapis.com/css2?family=Kanit:wght@100;300;400;500;600;700&display=swap);"]),o.push([t.i,".ad-detection-page[data-v-d77deeb6]{padding:8px}.ad-detection-database[data-v-d77deeb6]{padding-top:8px}.ad-detection-database-list[data-v-d77deeb6]{overflow:hidden;overflow-x:auto}.ad-detection-database-item[data-v-d77deeb6]{width:58px;height:58px}.ad-detection__container[data-v-d77deeb6]{max-width:640px;width:100%;margin:auto}.ad-detection-upload-btn[data-v-d77deeb6]{width:72px;height:58px;padding:4px 8px;display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:#e8f0fe;border-radius:4px;cursor:pointer;position:relative}.ad-detection-upload-btn>input[data-v-d77deeb6]{display:none}.ad-detection-upload-btn>.ad-detection-upload-btn__text[data-v-d77deeb6],.ad-detection-upload-btn>i[data-v-d77deeb6]{color:#1967d2}.ad-detection-upload-btn>.ad-detection-upload-btn__text[data-v-d77deeb6]{font-size:.8rem}.ad-detection-upload-btn[data-v-d77deeb6]:hover{background-color:#d2e3fc}",""]),t.exports=o},818:function(t,e,l){"use strict";l.r(e);var o={name:"AdDetectionPage",layout:"ml",data:function(){return{title:"Ad Detection",databases:[],uploadDatabaseDialog:!1,createDatabaseValid:!0,createDatabase:{label:"",img:""}}},head:function(){return{title:this.title}},watch:{uploadDatabaseDialog:function(t){var e=this;this.$nextTick((function(){e.$refs.database_form.resetValidation()}))}},methods:{handleAddDatabase:function(){if(this.$refs.database_form.validate()){console.log("upload",this.createDatabase);var t=this.$refs.upload_database.getOriginalFile();console.log("raw",t),this.databases.push({id:Date.now(),img:this.createDatabase.img,label:this.createDatabase.label})}}}},d=(l(732),l(66)),n=l(78),r=l.n(n),c=l(289),f=l(650),v=l(561),h=l(817),m=l(740),_=l(741),x=l(196),y=l(454),w=l(823),component=Object(d.a)(o,(function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"ad-detection-page"},[l("div",{staticClass:"ad-detection__container"},[l("v-card",[l("v-card-title",{staticClass:"py-2"},[l("div",[t._v("Artwork")]),t._v(" "),l("v-spacer"),t._v(" "),l("v-btn",{attrs:{icon:""}},[l("v-icon",[t._v("mdi-dots-vertical")])],1)],1),t._v(" "),l("v-divider"),t._v(" "),l("v-card-text",[t.databases.length>0?l("div",[t._v(t._s(t.databases.length)+" Image samples")]):l("div",[t._v("Add Image samples:")]),t._v(" "),l("div",{staticClass:"ad-detection-database"},[l("div",{staticClass:"ad-detection-upload-btn",on:{click:function(e){t.uploadDatabaseDialog=!0}}},[l("v-icon",{attrs:{size:"18"}},[t._v("mdi-tray-arrow-up")]),t._v(" "),l("div",{staticClass:"ad-detection-upload-btn__text"},[t._v("Upload")])],1),t._v(" "),l("div",{staticClass:"ad-detection-database-list"},[t._l(t.databases,(function(t){return[l("div",{key:t.id,staticClass:"ad-detection-database-item"})]}))],2)])])],1)],1),t._v(" "),l("v-dialog",{attrs:{"max-width":"480",persistent:""},model:{value:t.uploadDatabaseDialog,callback:function(e){t.uploadDatabaseDialog=e},expression:"uploadDatabaseDialog"}},[l("v-card",[l("v-card-title",[t._v("Add new artwork")]),t._v(" "),l("v-card-text",[l("v-form",{ref:"database_form",on:{submit:function(t){t.preventDefault()}},model:{value:t.createDatabaseValid,callback:function(e){t.createDatabaseValid=e},expression:"createDatabaseValid"}},[l("v-text-field",{attrs:{label:"Label",rules:[function(t){return!!t||"Enter label name"}],dense:"",outlined:""},model:{value:t.createDatabase.label,callback:function(e){t.$set(t.createDatabase,"label",e)},expression:"createDatabase.label"}}),t._v(" "),l("upload-image-field",{ref:"upload_database",staticStyle:{width:"100%"},attrs:{rules:[function(t){return!!t||"Enter image"}],"add-text":"คลิกหรือลากวาง",accept:"image/jpeg"},model:{value:t.createDatabase.img,callback:function(e){t.$set(t.createDatabase,"img",e)},expression:"createDatabase.img"}})],1)],1),t._v(" "),l("v-card-actions",[l("v-spacer"),t._v(" "),l("v-btn",{attrs:{text:""},on:{click:function(e){t.uploadDatabaseDialog=!1}}},[t._v("cancel")]),t._v(" "),l("v-btn",{attrs:{color:"primary",text:""},on:{click:t.handleAddDatabase}},[t._v("add")])],1)],1)],1)],1)}),[],!1,null,"d77deeb6",null);e.default=component.exports;r()(component,{UploadImageField:l(705).default}),r()(component,{VBtn:c.a,VCard:f.a,VCardActions:v.a,VCardText:v.b,VCardTitle:v.c,VDialog:h.a,VDivider:m.a,VForm:_.a,VIcon:x.a,VSpacer:y.a,VTextField:w.a})}}]);